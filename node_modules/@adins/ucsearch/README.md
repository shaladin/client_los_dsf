# UCSearch

This library was generated with [Angular CLI](https://github.com/angular/angular-cli) version 7.2.0.

## Version

Version 2.0.14
1. Key Value

Version 2.0.13
1. tambah ReturnObject di ResolveObj

Version 2.0.12
1. tambah rowVersion

Version 2.0.11
1. ubah response model

Version 2.0.9
1. Update textbox tambah data restriction

Version 2.0.8
1. Menambahkan Query String pada export Excel

Version 2.0.7
1. Update validasi additional criteria

Version 2.0.6
1. Update add criteria

Version 2.0.5
1. Update add criteria

Version 2.0.4
1. Update add criteria

Version 2.0.3
1. change export data button icon

Version 2.0.2
1. fix exportData show

Version 2.0.1
1. add search by queryString

Version 2.0.0
1. Update ReadMe

Version 1.0.17
1. Update ReadMe

Version 1.0.16
1. Update ReadMe

Version 1.0.15
1. Update ReadMe

Version 1.0.14
1. Update ReadMe

Version 1.0.11
1. Tambahan FlaTModuleId

Version 1.0.10
1. Tambahan Encapsulation

Version 1.0.9
1. ubah icon subsection

Version 1.0.8
1. Ubah Search Component agar dapat di tambahkan criteria (contoh: refMasterTypeCode) 

Version 1.0.7
1. ubah search component ketika menerima url environment

Version 1.0.6
1. ubah search title position, dan subsection icon

Version 1.0.5
1. reset input search, merapikan coding

Version 1.0.4
1. addCritInput penjagaan undefined

Version 1.0.2
1. Fix InputObj, filter with function

Version 1.0.1
1. Added ReadMe

## Input

1. searchInput : InputSearchObj (object) *mandatory

## Output
1. result : Emitting event after search, return resultData of search paging

## Object property & JSON property
InputSearchObj :
- _url          : search.json
- enviromentUrl : enviroment path (foundation, setting, vendor)
- apiQryPaging  : search paging API path

search.json :
``` javascript
{
    "title" : "title", // Title paging
    "exportExcel" : "false", // boolean: true|false
    "component" : [ // search criteria property
        {
            "type" : "textbox", // type input
            "label" : "search id", // label criteria name
            "name" : "searchId", // property search to backend
            "id" : "uniqueId", // bound the label with the input, when click label *optional
            "value" : "", // default value of input *optional
            "placeholder" : "placeholder", // *optional
            "datatype" : "text" // data type of input (text, numeric, date)
        },
        {
            "type" : "textarea",
            "label" : "textarea",
            "name" : "textareaId",
            "id" : "uniqueId",
            "value" : "",
            "placeholder" : "",
            "datatype" : "text"
        },
        {
            "type" : "numeric",
            "label" : "numeric <=",
            "name" : "numericId",
            "id" : "uniqueId",
            "value" : "1",
            "restriction" : "lte", // restriction criteria for backend (lte, gte)
            "placeholder" : "",
            "datatype" : "numeric"
        },
        {
            "type" : "datepicker",
            "label" : "Date From",
            "name" : "dateDt",
            "id" : "uniqueId",
            "value" : "",
            "restriction" : "gte",
            "datatype" : "date"
        },
        {
            "type" : "dropdown",
            "label" : "dropdown",
            "name" : "dropdownId",
            "id" : "uniqueId",
            "value" : "",
            "datatype" : "date",
            "isSelectOne" : "false", // boolean: true|false, dropdown select all option
            "items" : [ // hardcode the option list
                {
                    "key" : "1",
                    "value" : "Yes"
                },
                {
                    "key" : "0",
                    "value" : "No"
                }
            ],
            "isFromURL" : "true", // boolean: true|false, if true get the option list from backend
            "url" : "", // full path get keyValue API *mandatory, if isFromUrl true
            "itemsUrl" : [], // *mandatory if isFromUrl true, property to store option list from backend
            "criteriaPropName" : "typeCode", // additional criteria property *optional
            "criteriaPropValue" : "TYPE_CODE" // additional criteria value *optional
        },
        {
            "type" : "dropdown",
            "label" : "dropdown",
            "name" : "dropdownId",
            "id" : "uniqueId",
            "value" : "",
            "datatype" : "date",
            "isSelectOne" : "true",
            "items" : [],
            "isEvent" : "true", // boolean: true|false, if true dropdown criteria affect other dropdown criteria
            "affectedFilter" : ["dropdownId", "searchId"], // affected filter check by name 
            "isFromURL" : "true",
            "url" : "",
            "itemsUrl" : [], 
        }
    ],
    "querystring": { // query data by sql
        "select": "", // ex: "SELECT APP_ID AS appId, IS_ACTIVE AS isActive" *must use alias 
        "from": "" // ex: "FROM APP WITH(NOLOCK)" *don't forget WITH(NOLOCK)
    }
}
```
## Code scaffolding

Run `ng generate component component-name --project UCSearch` to generate a new component. You can also use `ng generate directive|pipe|service|class|guard|interface|enum|module --project UCSearch`.
> Note: Don't forget to add `--project UCSearch` or else it will be added to the default project in your `angular.json` file. 

## Build

Run `ng build UCSearch` to build the project. The build artifacts will be stored in the `dist/` directory.

## Publishing

After building your library with `ng build UCSearch`, go to the dist folder `cd dist/ucsearch` and run `npm publish`.

## Running unit tests

Run `ng test UCSearch` to execute the unit tests via [Karma](https://karma-runner.github.io).

## Further help

To get more help on the Angular CLI use `ng help` or go check out the [Angular CLI README](https://github.com/angular/angular-cli/blob/master/README.md).
