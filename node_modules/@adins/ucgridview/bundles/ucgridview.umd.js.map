{"version":3,"file":"ucgridview.umd.js.map","sources":["ng://ucgridview/lib/ucgridview.service.ts","ng://ucgridview/lib/ucgridview.component.ts","ng://ucgridview/lib/ucgridview.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UcgridviewService {\r\n\r\n  constructor() { }\r\n}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\n\r\n@Component({\r\n  selector: 'lib-ucgridview',\r\n  templateUrl: './ucgridview.component.html',\r\n  styles: []\r\n})\r\nexport class UcgridviewComponent implements OnInit {\r\n\r\n  @Input() gridInput: any;\r\n  @Output() output: EventEmitter<any> = new EventEmitter();\r\n  @Output() select: EventEmitter<any> = new EventEmitter();\r\n  \r\n  pagingJson: any;\r\n  headerList: any;\r\n  bodyList: any;\r\n  isSeq: any = false;\r\n\r\n  pageNow: any = 1;\r\n  pageSize: any = 10;\r\n  orderByKey: any = null;\r\n  orderByValue: boolean = true;\r\n\r\n  constructor(private http: HttpClient, public toastr: ToastrService, private modalService: NgbModal) { }\r\n\r\n  ngOnInit() {\r\n    this.initiateForm();\r\n  }\r\n\r\n  initiateForm() {\r\n    this.getJSON(this.gridInput.pagingJson).subscribe(data => {\r\n      console.log(data);\r\n      this.isSeq = data.isSeq;\r\n      this.headerList = data.headerList;\r\n      this.bodyList = data.bodyList;\r\n\r\n    })\r\n  }\r\n\r\n  public getJSON(url: string): Observable<any> {\r\n    return this.http.get(url);\r\n  }\r\n\r\n  genAction(item, param) {\r\n    var arrList = {};\r\n\r\n    for (var i = 0; i < param.length; i++) {\r\n      if (item[param[i].type] != undefined || item[param[i].param] != undefined) {\r\n        arrList[param[i].type] = item[param[i].property];\r\n      } else {\r\n        arrList[param[i].type] = param[i].property;\r\n      }\r\n    }\r\n    return arrList;\r\n  }\r\n  \r\n  switchCase(item, condList) {\r\n    var condition = false;\r\n\r\n    for (var i = 0; i < condList.conditions.length; i++) {\r\n      if (item[condList.conditions[i].property] == condList.conditions[i].value) {\r\n        condition = true;\r\n      } else {\r\n        condition = false;\r\n        break;\r\n      }\r\n    }\r\n    return condition;\r\n  }\r\n\r\n  searchSort(event: any) {\r\n    if (this.orderByKey == event.target.attributes.name.nodeValue) {\r\n      this.orderByValue = !this.orderByValue;\r\n    } else {\r\n      this.orderByValue = true;\r\n    }\r\n    this.orderByKey = event.target.attributes.name.nodeValue;\r\n    var gridOutput = {\r\n      orderByKey: this.orderByKey,\r\n      orderByValue: this.orderByValue\r\n    }\r\n    this.output.emit(gridOutput);\r\n    var order = {\r\n      key: this.orderByKey,\r\n      value: this.orderByValue\r\n    }\r\n    this.gridInput.searchComp.search(this.gridInput.apiUrl, this.gridInput.pageNow, this.gridInput.pageSize, order);\r\n  }\r\n\r\n  searchPagination(event: number) {\r\n    this.pageNow = event;\r\n    var order = null;\r\n    if (this.orderByKey != null) {\r\n      order = {\r\n        key: this.orderByKey,\r\n        value: this.orderByValue\r\n      }\r\n    }\r\n    this.gridInput.searchComp.search(this.gridInput.apiUrl, this.pageNow, this.pageSize, order);\r\n  }\r\n\r\n  delete(key: any, value: any) {\r\n    if (confirm(\"Are you sure to delete this record?\")) {\r\n      var delId = {};\r\n      delId[key] = value;\r\n      this.http.post(this.gridInput.deleteUrl, delId).subscribe(\r\n        (response) => {\r\n          this.toastr.success(response['message'], 'Success!');\r\n          this.searchPagination(this.pageNow);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  choose(item) {\r\n    this.select.emit(item);\r\n    this.modalService.dismissAll();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { UcgridviewComponent } from './ucgridview.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\n\r\n@NgModule({\r\n  declarations: [UcgridviewComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule\r\n  ],\r\n  exports: [UcgridviewComponent]\r\n})\r\nexport class UcgridviewModule { }\r\n"],"names":["Injectable","http","EventEmitter","Component","HttpClient","ToastrService","NgbModal","Input","Output","NgModule","CommonModule","RouterModule"],"mappings":"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"}
