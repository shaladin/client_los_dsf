
<div class="px-3">
  <lib-ucSubsection [id]="'custInfoId'" [title]="'Customer Information'" [panel]="'custInfo'">
  </lib-ucSubsection>
  <div class="form-body" id="custInfo">
    <div class="form-group row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Customer Name </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppCustObj?.CustName}}</label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> Age </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> NPWP </label>
          </div>
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> {{SummaryAppObj?.AppCustObj?.Age}} </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> {{SummaryAppObj?.AppCustObj?.TaxIdNo}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Address </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppCustAddrLegalObj?.FullAddr}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> Occupation </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> Industry Type </label>
          </div>
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> {{SummaryAppObj?.AppCustPersonalJobDataObj?.ProfessionName}} </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> {{SummaryAppObj?.AppCustCompanyObj?.IndustryTypeName}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> Status </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> Owner </label>
          </div>
          <div class="col-md-6">
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" class="adInsLabel"> {{SummaryAppObj?.AppCustPersonalObj?.MaritalStatName}} </label>
            <label *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'COMPANY'" class="adInsLabel"> {{SummaryAppObj?.OwnerName}} </label>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Existing Customer </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppCustObj?.IsExistingCust == true ? 'Yes' : 'No'}} </label>
          </div>
        </div>
        <div *ngIf="SummaryAppObj?.AppCustObj?.IsExistingCust == true" class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Negative Customer </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.NegCustTypeName}} <i class="fa fa-circle" *ngIf="SummaryAppObj?.NegCustColor != ''" aria-hidden="true" [ngStyle]="{'color': SummaryAppObj?.NegCustColor}"></i></label>            
          </div>
        </div>
        <div *ngIf="SummaryAppObj?.AppCustPersonalObj?.MrMaritalStatCode == 'MARRIED'" class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Spouse </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.SpouseName}} </label>
          </div>
        </div>
        <div class="row" *ngFor="let item of SummaryAppObj?.AppGuarantorObjs; let i=index">
          <div class="col-md-6">
            <label *ngIf="i == 0" class="adInsLabel"> Guarantor </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{item.GuarantorName + ' - ' + item.CustRelationshipCodeDesc}} </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <lib-ucSubsection [id]="'exposureInfoId'" [title]="'Exposure Information'" [panel]="'exposureInfo'">
  </lib-ucSubsection>
  <div class="form-body" id="exposureInfo">
    <div class="form-group row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel" style="font-weight: bold;"> Exposure </label>
          </div>
          <div class="col-md-6">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Customer Exposure </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.CustExposureAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Customer Group Exposure </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.CustGrpExposureAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Obligor Exposure </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.ObligorExposureAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel" style="font-weight: bold;"> Existing Application / Agreement </label>
          </div>
          <div class="col-md-6">
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> OS AR Agreement </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.OsArAgrmntAmt | number:'.2':'en-US'}} </label>            
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Application Reject </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppRejectCount}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Application in Process </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppInProcessCount}} </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <lib-ucSubsection [id]="'scoringInfoId'" [title]="'Scoring Information'" [panel]="'scoringInfo'">
  </lib-ucSubsection>
  <div class="form-body" id="scoringInfo">
    <div class="form-group row">
      <div class="col-md-4">
        <view-app-score-grade-scoring [AppId]="AppId"></view-app-score-grade-scoring>
      </div>
      <div class="col-md-4">
        <view-app-score-grade-dsr [AppId]="AppId"></view-app-score-grade-dsr>
      </div>
      <div class="col-md-4">
        <view-app-score-grade-dukcapil *ngIf="SummaryAppObj?.AppCustObj?.MrCustTypeCode == 'PERSONAL'" [AppId]="AppId"></view-app-score-grade-dukcapil>
      </div>
    </div>  
  </div>
  <lib-ucSubsection [id]="'appInfoId'" [title]="'Application Information'" [panel]="'appInfo'">
  </lib-ucSubsection>
  <div class="form-body" id="appInfo">
    <div class="form-group row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Num of Inst </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppObj?.NumOfInst}}</label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Advance / Arrear </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppObj?.FirstInstTypeName}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Installment Scheme </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.InstSchemeName}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Installment Amount </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.InstAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Sales </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppObj?.SalesOfficerName}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Sales Dealer </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.SalesDealerName}} </label>            
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Dealer </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.DealerName}} </label>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="SummaryAppObj?.AppAssetObjs?.length > 0">
    <lib-ucSubsection [id]="'assetInfoId'" [title]="'Asset Information'" [panel]="'assetInfo'">
    </lib-ucSubsection>
    <div class="form-body" id="assetInfo">
      <div *ngIf="SummaryAppObj.AppObj.BizTemplateCode == 'CF4W'" class="form-group row">
        <div class="col-md-6">
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> Asset Name </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.FullAssetName}}</label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> Asset Condition </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.MrAssetConditionCodeDesc}} </label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> Asset Price </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.AssetPriceAmt | number: '.2':'en-US'}} </label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> DP Amount / Percentage </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.DownPaymentAmt | number:'.2':'en-US'}} / {{SummaryAppObj?.AppAssetObjs[0]?.DownPaymentPrcnt | number:'.6':'en-US'}}% </label>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> Asset Usage </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.MrAssetUsageCodeDesc}} </label>
            </div>
          </div>
          <div class="row" *ngFor="let item of SerialNoObjs; let i=index">
            <div class="col-md-6">
              <label class="adInsLabel"> {{item.SerialNoLabel}} </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{item.SerialNoValue}} </label>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label class="adInsLabel"> Insurance </label>
            </div>
            <div class="col-md-6">
              <label class="adInsLabel"> {{SummaryAppObj?.AppAssetObjs[0]?.InsAssetCoveredByDesc}} </label>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="SummaryAppObj.AppObj.BizTemplateCode == 'FL4W' || SummaryAppObj.AppObj.BizTemplateCode == 'CFRFN4W'" class="table-responsive">
        <table class="table text-center table-hover">
          <thead>
            <tr class="table-header">
              <th style="text-align: left;"><span class="thead-header" name="AssetName" translate>
                  Asset Name
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="AssetUsage" translate>
                Asset Usage 
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="Asset Condition" translate>
                Asset Condition
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="ChassisNo" translate>
                Serial No 1
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="EngineNo" translate>
                Serial No 2
              </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="LicensePlateNo" translate>
                Serial No 3
              </span>
              </th>
              <th style="text-align: right;"><span class="thead-header" name="AssetPriceAmt" translate>
                Asset Price  
              </span>
              </th>
              <th style="text-align: right;"><span class="thead-header" name="DPAmtPrcnt" translate>
                DP Amount / Percentage  
              </span>
              </th>
            </tr>
          </thead>
          <tbody *ngIf = "SummaryAppObj?.AppAssetObjs?.length == 0">
            <tr>
              <td colspan="100%">No Data Available</td>
            </tr>
          </tbody>
          <tbody *ngIf = "SummaryAppObj?.AppAssetObjs?.length > 0">
            <tr *ngFor="let item of SummaryAppObj?.AppAssetObjs; let i = index">
              <td style="text-align: left;">{{item.FullAssetName}}</td>
              <td style="text-align: center;">{{item.MrAssetUsageCodeDesc}}</td>
              <td style="text-align: center;">{{item.MrAssetConditionCodeDesc}}</td>
              <td style="text-align: center;">{{item.SerialNo1}}</td>
              <td style="text-align: center;">{{item.SerialNo2}}</td>
              <td style="text-align: center;">{{item.SerialNo3}}</td>
              <td style="text-align: right;">{{item.AssetPriceAmt | number:'.2':'en-US'}}</td>
              <td style="text-align: right;">{{item.DownPaymentAmt | number:'.2':'en-US'}} / {{item.DownPaymentPrcnt | number:'.6':'en-US'}}%</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div *ngIf="SummaryAppObj?.AppAssetObjs?.length > 1">
      <lib-ucSubsection [id]="'collateralInfoId'" [title]="'Collateral Information'" [panel]="'collateralInfo'">
      </lib-ucSubsection>
      <div class="form-body table-responsive" id="collateralInfo">
        <table class="table text-center table-hover">
          <thead>
            <tr class="table-header">
              <th style="text-align: left;"><span class="thead-header" name="CollateralName" translate>
                Collateral Name
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="CollateralUsage" translate>
                Collateral Usage 
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="CollateralCondition" translate>
                Collateral Condition
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="ChassisNo" translate>
                Serial No 1
                </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="EngineNo" translate>
                Serial No 2
              </span>
              </th>
              <th style="text-align: center;"><span class="thead-header" name="LicensePlateNo" translate>
                Serial No 3
              </span>
              </th>
              <th style="text-align: right;"><span class="thead-header" name="CollateralValue" translate>
                Collateral Value  
              </span>
              </th>
              <th style="text-align: right;"><span class="thead-header" name="CollateralValue" translate>
                Insurance  
              </span>
              </th>
            </tr>
          </thead>
          <tbody *ngIf = "SummaryAppObj?.AppCollateralObjs?.length == 0">
            <tr>
              <td colspan="100%">No Data Available</td>
            </tr>
          </tbody>
          <tbody *ngIf = "SummaryAppObj?.AppCollateralObjs?.length > 0">
            <tr *ngFor="let item of SummaryAppObj?.AppCollateralObjs; let i = index">
              <td style="text-align: left;">{{item.FullAssetName}}</td>
              <td style="text-align: center;">{{item.CollateralUsageName}}</td>
              <td style="text-align: center;">{{item.CollateralConditionName}}</td>
              <td style="text-align: center;">{{item.SerialNo1}}</td>
              <td style="text-align: center;">{{item.SerialNo2}}</td>
              <td style="text-align: center;">{{item.SerialNo3}}</td>
              <td style="text-align: right;">{{item.CollateralValueAmt | number:'.2':'en-US'}}</td>
              <td style="text-align: center;">{{item.InsAssetCoveredByDesc}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div *ngIf="SummaryAppObj.AppObj.BizTemplateCode == 'CFRFN4W'"> 
    <lib-ucSubsection [id]="'viewLoanInfoId'" [title]="'Loan Object'" [panel]="'viewLoanInfo'">
    </lib-ucSubsection>
    <div class="form-body" id="viewLoanInfo">
      <table class="table table-responsive-md text-center table-hover" matSort>
        <thead>
          <tr class="table-header">
            <th><span translate class="thead-header" mat-sort-header="MrLoanPurposeDescr">Loan Purpose</span>
            </th>
            <th><span translate class="thead-header" mat-sort-header="IsDisburseToCust">Disburse To Cust</span>
            </th>
            <th><span translate class="thead-header" mat-sort-header="BudgetPlanAmt">Budget Plan Amount</span>
            </th>
            <th><span translate class="thead-header" mat-sort-header="SelfFinancingAmt">Self Financing</span>
            </th>
            <th><span translate class="thead-header" mat-sort-header="FinancingAmt">Financing Amount</span>
            </th>
          </tr>
        </thead>
        <tbody *ngIf = "LoanObjectData?.length == 0">
          <tr>
            <td colspan="100%">No Data Available</td>
          </tr>
        </tbody>
        <tbody>
          <tr *ngFor="let item of LoanObjectData">
            <td *ngIf="item.MrLoanPurposeDescr!=null">{{item.MrLoanPurposeDescr}}</td>
            <td *ngIf="item.MrLoanPurposeDescr==null"> - </td>
            <td *ngIf="item.IsDisburseToCust == true">Yes</td>
            <td *ngIf="item.IsDisburseToCust != true">No</td>
            <td *ngIf="item.IsDisburseToCust==null"> - </td>
            <td *ngIf="item.BudgetPlanAmt!=null">{{item.BudgetPlanAmt | number: '.2':'en-US'}}</td>
            <td *ngIf="item.BudgetPlanAmt==null"> - </td>
            <td *ngIf="item.SelfFinancingAmt!=null">{{item.SelfFinancingAmt | number: '.2':'en-US'}}</td>
            <td *ngIf="item.SelfFinancingAmt==null"> - </td>
            <td *ngIf="item.FinancingAmt!=null">{{item.FinancingAmt | number: '.2':'en-US'}}</td>
            <td *ngIf="item.FinancingAmt==null"> - </td>
          </tr>
        </tbody>
      </table>
    </div>

    <lib-ucSubsection [id]="'viewAppCollId'" [title]="'Collateral Information'" [panel]="'viewAppCollInfo'">
    </lib-ucSubsection>
    <div class="form-body" id="viewAppCollInfo">
        <lib-ucgridview *ngIf="IsGridCollReady" [gridInput]="InputGridColl"></lib-ucgridview>
    </div>
  </div>
  
  <lib-ucSubsection [id]="'financialInfoId'" [title]="'Financial Information'" [panel]="'financialInfo'">
  </lib-ucSubsection>
  <div class="form-body" id="financialInfo">
    <div class="form-group row">
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Total AR </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.TotalAr | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Total Principal </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.TotalPrincipalAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Total Interest </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.TotalInterestAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Effective Rate </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.EffectiveRatePrcnt | number:'.6':'en-US'}}% </label>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Total Income </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.TotalIncomeAmt | number:'.2':'en-US'}} </label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Total Expense </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.TotalExpenseAmt | number:'.2':'en-US'}} </label>            
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label class="adInsLabel"> Gross Yield </label>
          </div>
          <div class="col-md-6">
            <label class="adInsLabel"> {{SummaryAppObj?.AppFinDataObj?.GrossYieldPrcnt | number:'.6':'en-US'}}% </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>