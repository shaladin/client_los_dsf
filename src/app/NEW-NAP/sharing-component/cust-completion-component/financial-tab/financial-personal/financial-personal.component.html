<div class="col-md-12">
  <div class="card">
    <div class="card-body">
      <div class="px-3">
          <!-- <div id="Financial">
            <div class="row">
              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-md-4 adins-required-label" translate>Monthly Income</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="MonthlyIncomeAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyIncomeAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyIncomeAmt"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-4" translate>Source Income</label>
                  <div class="col-md-6">
                    <select class="form-control" formControlName="MrSourceOfIncomeTypeCode" style="width:100%;"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MrSourceOfIncomeTypeCode.invalid }">
                      <option *ngFor="let item of MrSourceOfIncomeTypeObj" [value]="item.Key">
                        {{item.Value}}
                      </option>
                    </select>
                    <lib-uc-show-errors [control]="FinancialForm.controls.MrSourceOfIncomeTypeCode"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-4" translate>Other Income</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="OtherIncomeAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.OtherIncomeAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.OtherIncomeAmt" [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row" *ngIf="IsMarried">
                  <label class="col-md-4" translate>Is Join Income</label>
                  <div class="col-md-8">
                    <input type="checkbox" formControlName="IsJoinIncome" (change)="CalculateFinData()"/>
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="form-group row">
                  <label class="col-md-4" translate>Monthly Expense</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="MonthlyExpenseAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyExpenseAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyExpenseAmt"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-4" translate>Monthly Installment</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="MonthlyInstallmentAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyInstallmentAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyInstallmentAmt"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row">
                  <label class="col-md-4" translate>Other Monthly Installment</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="OtherMonthlyInstAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.OtherMonthlyInstAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.OtherMonthlyInstAmt"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
                <div class="form-group row" *ngIf="IsMarried">
                  <label class="col-md-4" translate>Spouse Monthly Income</label>
                  <div class="col-md-8">
                    <input type="" currencyMask class="form-control" formControlName="SpouseMonthlyIncomeAmt"
                      [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.SpouseMonthlyIncomeAmt.invalid}" (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                    <lib-uc-show-errors [control]="FinancialForm.controls.SpouseMonthlyIncomeAmt"
                      [submit]="enjiForm.submitted">
                    </lib-uc-show-errors>
                  </div>
                </div>
              </div>

              <div class="col-md-12">
                <div class="form-group row">
                  <label class="col-md-2" translate>Total Monthly Income</label>
                  <div class="col-md-4" style="text-align: right;">
                    <label>{{FinancialForm.controls.TotalIncomeAmt.value | number:'.2':'en-US' }}</label>
                  </div>
                  <label class="col-md-2" translate>Nett Monthly Income</label>
                  <div class="col-md-4" style="text-align: right;">
                    <label>{{FinancialForm.controls.NettIncomeAmt.value | number:'.2':'en-US' }}</label>
                  </div>
                </div>
              </div>

              <div class="col-md-12">
                <app-attr-content-component [title]="'Financial Attribute Information'" [AppCustId]="AppCustId" [enjiForm]="enjiForm"
                  [parentForm]="FinancialForm" [identifier]="'AttrList'" [AttrGroups]="AttrGroups"
                  (IncomeAmt)="CalculateIncomeAmt($event)" (ExpenseAmt)="CalculateExpenseAmt($event)"></app-attr-content-component>
              </div>
            </div>
          </div> -->

          <div class="pull-right">
            <button type="button" class="addButton" translate (click)="GetFinData(ListAppCustPersonalFinData.length)"><i
                class="ft-plus-circle"></i> Add</button>
          </div>
          <lib-ucSubsection [id]="'FinancialId'" [title]="'Financial Data'" [panel]="'Financial'">
          </lib-ucSubsection>
          <div id="Financial">

            <div id="ListCustFinData" class="mb-3">
              <table class="table table-stripped table-bordered">
                <thead>
                  <tr class="table-header">
                    <th class="text-center" translate>Date</th>
                    <th class="text-center" translate>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of ListAppCustPersonalFinData; let i = index">
                    <td class="text-center">{{item.DateAsOf | date: 'dd-MMM-yyyy'}}</td>
                    <td class="text-center"><a href="javascript:;" (click)="GetFinData(i)"><i
                          class="ft-edit-2 font-medium-3 mr-2"></i></a></td>
                  </tr>
                  <tr *ngIf="ListAppCustPersonalFinData.length <= 0">
                    <td class="text-center" colspan="2" translate>No Data Available</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <ng-template #ModalPersonalFinData let-modal>
            <form class="form form-horizontal" [formGroup]="FinancialForm" #enjiForm="ngForm"
              (ngSubmit)="enjiForm.form.valid && SaveAppCustPersonalFinData()">
              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title">
                  {{IsAddFinData ? 'Add Financial Data' : 'Financial Data Date as of '}}
                  {{FinancialForm.controls.DateAsOf.value | date: 'dd-MMM-yyyy'}}
                </h4>
                <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()"><span
                    aria-hidden="true">&times;</span></button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group row">
                      <label class="col-md-4 adins-required-label" translate>Monthly Income</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="MonthlyIncomeAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyIncomeAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyIncomeAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>

                    <div class="form-group row">
                      <label class="col-md-4" translate>Source Income</label>
                      <div class="col-md-6">
                        <select class="form-control" formControlName="MrSourceOfIncomeTypeCode" style="width:100%;"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MrSourceOfIncomeTypeCode.invalid }">
                          <option *ngFor="let item of MrSourceOfIncomeTypeObj" [value]="item.Key">
                            {{item.Value}}
                          </option>
                        </select>
                        <lib-uc-show-errors [control]="FinancialForm.controls.MrSourceOfIncomeTypeCode"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>

                    <div class="form-group row">
                      <label class="col-md-4" translate>Other Income</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="OtherIncomeAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.OtherIncomeAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.OtherIncomeAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>

                    <div class="form-group row" *ngIf="IsMarried">
                      <label class="col-md-4" translate>Is Join Income</label>
                      <div class="col-md-8">
                        <input type="checkbox" formControlName="IsJoinIncome" (change)="CalculateFinData()" />
                      </div>
                    </div>

                    <div class="form-group row">
                      <label class="col-md-4" translate>Total Monthly Income</label>
                      <div class="col-md-8" style="text-align: right;">
                        <label>{{FinancialForm.controls.TotalIncomeAmt.value | number:'.2':'en-US' }}</label>
                      </div>
                    </div>
                    <div class="form-group row adins-required" *ngIf="IsAddFinData">



                      <label class="col-md-4 adInsLabel" for="DateAsOf" translate>Date As Of</label>
                      <div class="col-md-8">
                        <input type="date" class="form-control adInsInput" formControlName="DateAsOf"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.DateAsOf.invalid }" />
                        <lib-uc-show-errors [control]="FinancialForm.controls.DateAsOf"
                          [submit]="enjiForm.submitted"></lib-uc-show-errors>
                      </div>

                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group row">
                      <label class="col-md-4" translate>Monthly Expense</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="MonthlyExpenseAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyExpenseAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyExpenseAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>

                    <div class="form-group row">
                      <label class="col-md-4" translate>Monthly Installment</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="MonthlyInstallmentAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.MonthlyInstallmentAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.MonthlyInstallmentAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>

                    <div class="form-group row">
                      <label class="col-md-4" translate>Other Monthly Installment</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="OtherMonthlyInstAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.OtherMonthlyInstAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.OtherMonthlyInstAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>
                    <div class="form-group row" *ngIf="IsMarried">
                      <label class="col-md-4" translate>Spouse Monthly Income</label>
                      <div class="col-md-8">
                        <input type="" currencyMask class="form-control" formControlName="SpouseMonthlyIncomeAmt"
                          [ngClass]="{ 'is-invalid': enjiForm.submitted && FinancialForm.controls.SpouseMonthlyIncomeAmt.invalid}"
                          (focusout)="CalculateFinData()" [options]="{allowNegative: false}">
                        <lib-uc-show-errors [control]="FinancialForm.controls.SpouseMonthlyIncomeAmt"
                          [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label class="col-md-4" translate>Nett Monthly Income</label>
                      <div class="col-md-8" style="text-align: right;">
                        <label>{{FinancialForm.controls.NettIncomeAmt.value | number:'.2':'en-US' }}</label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-warning btn-raised" (click)="modal.dismiss()" translate><i
                    class="far fa-window-close"></i> Cancel</button>
                <button type="submit" class="btn btn-raised btn-primary" translate><i class="far fa-check-square"></i>
                  Save</button>
              </div>
            </form>
          </ng-template>

          <form class="form form-horizontal" [formGroup]="FinancialForm" (ngSubmit)="FinancialForm.valid && SaveForm()"
          #enjiForm="ngForm">
          
          <app-attr-content-component [title]="'Financial Attribute Information'" [AppCustId]="AppCustId"
            [enjiForm]="enjiForm" [parentForm]="FinancialForm" [identifier]="'AttrList'" [AttrGroups]="AttrGroups"
            (IncomeAmt)="CalculateIncomeAmt($event)" (ExpenseAmt)="CalculateExpenseAmt($event)">
          </app-attr-content-component>
          <!-- [AttrGroup]="AttrGroup" -->
          <app-bank-section [AppCustId]="AppCustId" [AppCustBankAccList]="AppCustBankAccList"
            (OutputObj)="GetEvent($event)"></app-bank-section>
          <div class="form-actions right" *ngIf="!IsDetail">
            <button type="submit" (click)="formValidate.scrollIfFormHasErrors(FinancialForm)"
              class="btn btn-raised btn-primary" translate>
              <i class="fa fa-check-square"></i> Save & Continue
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>