<div class="container col-md-12">
  <form class="form form-horizontal" [formGroup]="SimulationForm" #enjiForm="ngForm">
    <div class="col-md-12 bg-white rounded px-3 py-3">
    <div class="form-group row">
      <div class="col-md-12">
        <h4 class="form-section card-title" translate>Plafond & Installment Simulation</h4>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-md-2" translate>Customer No</label>
        <div class="col-md-4">
          <input type="text" class="form-control" formControlName="CustNo"
            [ngClass]="{ 'is-invalid': enjiForm.submitted && SimulationForm.controls.CustNo.invalid }">
        </div>
      <label class="col-md-2" translate>Customer Name</label>
        <div class="col-md-4">
          <input type="text" class="form-control" formControlName="CustName"
            [ngClass]="{ 'is-invalid': enjiForm.submitted && SimulationForm.controls.CustName.invalid }">
        </div>
    </div>
    <div class="form-group row">
        <div class="col-md-3">
          <button class="btn btn-raised btn-primary margin-r-5" translate type="button" (click)="Search()">
            Search
          </button>
        </div>
    </div>
    </div>
    <br>
    <div *ngIf="!isInit" class="bg-white rounded col-md-12 px-3 py-3">
    <div class="form-group row bg-white rounded">
      <div class="px-3">
        <div id="simulation">
            <table class="table table-responsive-md text-center table-hover">
                <thead>
                <tr class="table-header">
                    <th class="text-center">Customer No</th>
                    <th class="text-center">Customer Name</th>
                    <th class="text-center">Agreement Parent No</th>
                    <th class="text-center">Asset Price After Depreciation</th>
                    <th class="text-center">OS AR Parent Agreement</th>
                    <th class="text-center">OS NI Child Agreement</th>
                    <th class="text-center">Eligible Tenor</th>
                    <th class="text-center">Plafond Parent Agrmnt</th>
                    <th class="text-center">Requested Plafond</th>
                    <th class="text-center">Remaining Plafond</th>
                    <th class="text-center">Action</th>
                </tr>
                </thead>
                <tbody *ngIf = "masterAgrmntList?.length == 0">
                    <tr>
                        <td colspan="100%">No Data Available</td>
                    </tr>
                </tbody>
                <tbody *ngIf = "masterAgrmntList?.length != 0">
                  <ng-container *ngFor="let item of masterAgrmntList; let i=index">
                    <tr>
                        <td class="text-left">{{item.CustNo}}</td>
                        <td class="text-left">{{item.CustName}}</td>
                        <td class="text-left">{{item.AgrmntParentNo}}</td>
                        <td class="text-right">{{item.AssetPriceDepreciation}}</td>
                        <td class="text-right">{{item.OSARParentAgrmnt}}</td>
                        <td class="text-right">{{item.OSNIChildAgrmnt}}</td>
                        <td class="text-right">{{item.EligibleTenor}}</td>
                        <td class="text-right">{{item.PlafondAgrmntParent}}</td>
                        <td class="text-right">{{item.RequestedPlafond}}</td>
                        <td class="text-right">{{item.RemainingPlafond}}</td>
                        <td class="text-center">
                          <a (click)="viewDetailPlafondInstallment(item.AgrmntParentNo, item.AgrmntParentId, item.CustNo, item.GoLiveDt, item.MaturityDt)" class="success p-0"><i class="ft-edit-2 font-medium-3 mr-2"></i></a>
                        </td>
                    </tr>
                  </ng-container>
                </tbody>
            </table>
        </div>
      </div>
    </div>
    </div>
  </form>
</div>