<div class="card-body">
  <div class="px-3">
    <lib-ucSubsection [id]="'formInformation' + FormInputObj['content'] + 'id'" [title]="FormInputObj['title']"
      [panel]="'formInformation' + FormInputObj['content']">
    </lib-ucSubsection>
    <div class="form-body" [id]="'formInformation' + FormInputObj['content']">
      <div class="form-actions right">
        <button type="button" (click)="AddNewDataForm()" class="btn btn-raised btn-primary"
          [hidden]="lenDDLContentName == 0" translate>
          <i class="fa fa-check-square-o"></i> Add new
        </button>
      </div>

      <form class="form form-horizontal" [formGroup]="FormObj" #enjiForm="ngForm">
        <div class="form-body">
          <div formArrayName="arr">
            <div *ngFor="let item of FormObj.controls.arr.controls; let i = index;">
              <div [formGroupName]="i">

                <div class="form-group row">
                  <!-- Content Name -->
                  <div class="form-group col-md-2 adins-required">
                    <label class="adInsLabel">{{FormInputObj['labelName']}} Name</label>
                  </div>
                  <div class="col-md-4">
                    <div class="row">
                      <div class="col-md-10">
                        <select *ngIf="item.controls.ContentName.value == ''" class="form-control adInsInput"
                          style="width: auto" formControlName="ContentName" (change)="ChooseContentName($event, i)">
                          <option value="">-Select One-</option>
                          <option *ngFor="let it of DDLContentName" value="{{it.Key}}">
                            {{it.Value}} </option>
                        </select>
                        <lib-uc-show-errors [control]="item.controls.ContentName" [submit]="enjiForm.submitted">
                        </lib-uc-show-errors>
                        <label class="adInsLabel"
                          *ngIf="item.controls.ContentName.value != ''">{{item.controls.ContentNameValue.value}}</label>
                      </div>
                      <div class="col-md-2">
                        <button type="button" (click)="DeleteDataForm(i)" class="btn btn-raised"
                          style="vertical-align: middle;" translate>
                          <i class="ft-trash-2 font-medium-2"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group row"
                  *ngIf="item.controls.ContentName.value != '' && FormInputObj['content'] == 'SupplierEmployee'">
                  <div class="form-group col-md-2">
                    <label class="adInsLabel"> Supplier Position</label>
                  </div>
                  <div class="col-md-4">
                    <label class="adInsLabel"> {{item.controls.MrSupplEmpPositionCodeDesc.value}} </label>
                  </div>
                  <div class="form-group col-md-2">
                    <label class="adInsLabel"> Supplier Name</label>
                  </div>
                  <div class="col-md-4">
                    <label class="adInsLabel"> {{FormInputObj['dictSuppl'][item.controls.SupplCode.value]}} </label>
                  </div>
                </div>
                <div [hidden]="item.controls.ContentName.value == ''">
                  <div class="form-group row">
                    <!-- Bank Account -->
                    <div class="col-md-2 adins-required">
                      <label class="adInsLabel">Bank Account</label>
                    </div>
                    <div class="col-md-4">
                      <select class="form-control width-75-per adInsInput" formControlName="BankAccountNo"
                        (change)="ChangeBankAcc($event, i)">
                        <option value="">-Select One-</option>
                        <option *ngFor="let it of item.controls.DropDownList.controls" value="{{it.value.Key}}">
                          {{it.value.Value}} </option>
                      </select>
                      <lib-uc-show-errors [control]="item.controls.BankAccountNo" [submit]="enjiForm.submitted">
                      </lib-uc-show-errors>
                    </div>

                    <!-- Tax Amount -->
                    <label class="col-md-2 adInsLabel">Tax Amount </label>
                    <div class="col-md-4">
                      <label class="adInsLabel" *ngIf="item.controls.TotalTaxAmount.value != ''">
                        {{item.controls.TotalTaxAmount.value}} </label>
                      <label class="adInsLabel" *ngIf="item.controls.TotalTaxAmount.value == ''"> --- </label>
                    </div>
                  </div>

                  <div class="form-group row">
                    <!-- Total Commission Amount -->
                    <div class="col-md-2">
                      <label class="adInsLabel">Total Commission Amount</label>
                    </div>
                    <div class="col-md-4">
                      <label class="adInsLabel" *ngIf="item.controls.TotalCommisionAmount.value != ''">
                        {{item.controls.TotalCommisionAmount.value}} </label>
                      <label class="adInsLabel" *ngIf="item.controls.TotalCommisionAmount.value == ''"> --- </label>
                    </div>

                    <!-- VAT Amount -->
                    <label class="col-md-2 adInsLabel">VAT Amount </label>
                    <div class="col-md-4">
                      <label class="adInsLabel" *ngIf="item.controls.TotalVATAmount.value != ''">
                        {{item.controls.TotalVATAmount.value}} </label>
                      <label class="adInsLabel" *ngIf="item.controls.TotalVATAmount.value == ''"> --- </label>
                    </div>
                  </div>

                  <div formArrayName="ListAllocated">
                    <div class="form-group">
                      <div class="row">

                        <div class="col-md-6">
                          <div *ngFor="let ruleItem of item.controls.ListAllocated.controls; let idx = index">
                            <div class="form-group row" [formGroupName]="idx"
                              *ngIf="ruleItem.controls.TotalListAllocatedDivided.value > idx">
                              <label class="col-md-4 adInsLabel"> {{ruleItem.controls.AllocationFromDesc.value}}
                              </label>
                              <div class="col-md-8" [ngSwitch]="ruleItem.controls.AllocationBehaviour.value">
                                <input type="text" *ngSwitchCase="'LOCK'" readonly
                                  class="form-control adInsInput width-100-per text-left"
                                  formControlName="AllocationAmount" (change)="ChangeDataLabel(i)">
                                <input type="text"
                                  max="FormObj.controls.arr['controls'][i].controls.ListAllocated.controls[idx].controls.MaxAllocationAmount.value"
                                  *ngSwitchCase="'DEF'" class="form-control adInsInput width-100-per text-left"
                                  [ngClass]="{ 'is-invalid': enjiForm.submitted && ruleItem.controls.AllocationAmount.invalid }"
                                  formControlName="AllocationAmount" (change)="ChangeDataLabel(i)">
                                <lib-uc-show-errors [control]="ruleItem.controls.AllocationAmount"
                                  [submit]="enjiForm.submitted"></lib-uc-show-errors>
                              </div>
                            </div>
                          </div>
                        </div>

                        <div class="col-md-6">
                          <div *ngFor="let ruleItem of item.controls.ListAllocated.controls; let idx = index">
                            <div class="form-group row" [formGroupName]="idx"
                              *ngIf="ruleItem.controls.TotalListAllocatedDivided.value <= idx">
                              <label class="col-md-4 adInsLabel"> {{ruleItem.controls.AllocationFromDesc.value}}
                              </label>
                              <div class="col-md-8" [ngSwitch]="ruleItem.controls.AllocationBehaviour.value">
                                <input type="text" *ngSwitchCase="'LOCK'" readonly
                                  class="form-control adInsInput width-100-per text-left"
                                  formControlName="AllocationAmount" (change)="ChangeDataLabel(i)">
                                <input type="text" max="ruleItem.controls.MaxAllocationAmount.value"
                                  *ngSwitchCase="'DEF'" class="form-control adInsInput width-100-per text-left"
                                  [ngClass]="{ 'is-invalid': enjiForm.submitted && ruleItem.controls.AllocationAmount.invalid }"
                                  formControlName="AllocationAmount" (change)="ChangeDataLabel(i)">
                                <lib-uc-show-errors [control]="ruleItem.controls.AllocationAmount"
                                  [submit]="enjiForm.submitted"></lib-uc-show-errors>
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>
                  </div>

                </div>

                <br>
              </div>
            </div>
          </div>
        </div>
      </form>

    </div>
  </div>
</div>