<div class="card">
  <lib-ucviewgeneric *ngIf="mrCustTypeCode" [viewGenericObj]="viewMainInfoObj" (callback)="viewMainInfoCallback($event)" #viewMainProd> </lib-ucviewgeneric>
  <div class="ucSearch-Button-Right pr-3" style="right:0px">
    <button type="button" class="btn btn-raised btn-warning" (click)="buttonCancelOnClick()">
      <i class="fa fa-ban"></i> Cancel
    </button>
  </div>

  
  <div class="card-body px-3 pb-3">

    <div class="text-right" *ngIf="!isLock">
      <button type="button" class="btn btn-raised btn-primary" (click)="buttonNewCustOnClick()" translate>New Customer</button>
    </div>

    <lib-ucSubsection [id]="'subSecMatchId'" [title]="'Match / Similiar Data'" [panel]="'subSecMatchId'"></lib-ucSubsection>
    <div id="subSecMatchId">
      <table class="table table-responsive-md text-center table-hover">
        <thead>
          <tr class="table-header">
            <th><span class="thead-header" name='custNo' translate>Customer No</span></th>
            <th><span class="thead-header" name='custName' translate>Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idType' translate>ID Type</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idNo' translate>ID No</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='birthDt' translate>Birth Date</span></th>
            <th><span class="thead-header" name='npwp' translate>NPWP</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='motherMaidenName' translate>Mother Maiden Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='mobilePhoneNo' translate>Mobile Phone No</span></th>            
            <th><span class="thead-header" name='duplicateItem' translate>Duplicate Item</span></th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="listMasterCustDuplicate?.length == 0"><td align="center" colspan="100%">No data found</td></tr>
          <tr *ngFor="let item of listMasterCustDuplicate">
            <td>{{item.CustNo}}</td>
            <td>{{item.CustName}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MrIdType}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.IdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.BirthDt | date: 'dd-MM-yyyy'}}</td>
            <td>{{item.TaxIdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MotherMaidenName}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MobilePhnNo1}}</td>
            <td>{{item.DuplicateItem}}</td>
            <td><a class="danger p-0" (click)="selectMasterCust(item)">Select</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    <lib-ucSubsection [id]="'subSecAppProcessId'" [title]="'Application in Process'" [panel]="'subSecAppProcessId'"></lib-ucSubsection>
    <div id="subSecAppProcessId">
      <table class="table table-responsive-md text-center table-hover">
        <thead>
          <tr class="table-header">
            <th><span class="thead-header" name='applicantNo' translate>Applicant No</span></th>
            <th><span class="thead-header" name='custName' translate>Customer Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idType' translate>ID Type</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idNo' translate>ID No</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='birthDt' translate>Birth Date</span></th>
            <th><span class="thead-header" name='npwp' translate>NPWP</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='motherMaidenName' translate>Mother Maiden Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='mobilePhoneNo' translate>Mobile Phone No</span></th>
            <th><span class="thead-header" name='duplicateItem' translate>Duplicate Item</span></th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="listAppCustDuplicate?.length == 0"><td align="center" colspan="100%">No data found</td></tr>
          <tr *ngFor="let item of listAppCustDuplicate">
            <td>{{item.ApplicantNo}}</td>
            <td>{{item.CustName}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MrIdType}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.IdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.BirthDt | date: 'dd-MM-yyyy'}}</td>
            <td>{{item.TaxIdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MotherMaidenName}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MobilePhnNo1}}</td>            
            <td>{{item.DuplicateItem}}</td>
            <td><a *ngIf="!isMasterLock" class="danger p-0" (click)="selectAppCust(item)">Select</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    <lib-ucSubsection [id]="'subSecNegListId'" [title]="'Negative List'" [panel]="'subSecNegListId'"></lib-ucSubsection>
    <div id="subSecNegListId">
      <table class="table table-responsive-md text-center table-hover">
        <thead>
          <tr class="table-header">
            <th><span class="thead-header" name='custtNo' translate>Negative Cust No</span></th>
            <th><span class="thead-header" name='custName' translate>Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idType' translate>ID Type</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='idNo' translate>ID No</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='birthDt' translate>Birth Date</span></th>
            <th><span class="thead-header" name='npwp' translate>NPWP</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='motherMaidenName' translate>Mother Maiden Name</span></th>
            <th *ngIf="mrCustTypeCode == 'PERSONAL'"><span class="thead-header" name='mobilePhoneNo' translate>Mobile Phone No</span></th>            
            <th><span class="thead-header" name='negativeStat' translate>Negative Status</span></th>
            <th><span class="thead-header" name='duplicateItem' translate>Duplicate Item</span></th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="listNegativeCustDuplicate?.length == 0"><td align="center" colspan="100%">No data found</td></tr>
          <tr *ngFor="let item of listNegativeCustDuplicate">
            <td>{{item.NegativeCustNo}}</td>
            <td>{{item.CustName}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MrIdTypeCode}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.IdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.BirthDt | date: 'dd-MM-yyyy'}}</td>
            <td>{{item.TaxIdNo}}</td>
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MotherMaidenName}}</td>  
            <td *ngIf="mrCustTypeCode == 'PERSONAL'">{{item.MobilePhnNo1}}</td>                      
            <td>{{item.MrNegCustType}}</td>
            <td>{{item.DuplicateItem}}</td>
            <td align="center"><mat-checkbox color="primary" [checked]="isNegativeLock" [disabled]="isNegativeLock" (change)="checkNegCustOnChange($event, item)"></mat-checkbox></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>