<div class="card">
  <div class="card-header">
    <h4 class="card-title" translate> View Customer Confirmation </h4>
  </div>
  <div class="card-body">
    <div class="px-3">
      <div class="ucSearch-Button-Right">
        <span class="mr-1">
          <button type="button" class="backButton" [routerLink]="[CancelLink]"
            [queryParams]="{AgrmntId:AgrmntId, AppId:AppId, AgrmntNo:AgrmntNo, TaskListId:TaskListId, BizTemplateCode:BizTemplateCode}">
            <i class="ft-arrow-left"></i>&nbsp;<span translate>Back</span>
          </button>
        </span>
      </div>
      <lib-ucSubsection [id]="'SubjectInformationId'" [title]="'Subject Information'" [panel]="'SubjectInformation'">
      </lib-ucSubsection>
      <div class="form-body" id="SubjectInformation">
        <div class="row">
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Application No</label>
              <label class="label-control col-md-6"><a href="javascript:void(0);" (click)="openUrl('application')">{{
                  AppObj?.AppNo }}</a></label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Agreement No</label>
              <label class="label-control col-md-6"><a href="javascript:void(0);" (click)="openUrl('agreement')">{{
                  AgrmntObj?.AgrmntNo }}</a></label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Customer No</label>
              <label class="label-control col-md-6"><a (click)="openUrl('customer')"
                  style="color: #299699; cursor: pointer;">{{ AgrmntObj?.CustNo }}</a></label>
            </div>
            <div class="row" *ngIf="AgrmntObj?.LeadId != null">
              <label class="label-control col-md-6" translate>Lead No</label>
              <label class="label-control col-md-6"><a href="javascript:void(0);" (click)="openUrl('lead')">{{
                  LeadObj?.LeadNo }}</a></label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Subject</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.MrVerfSubjectRelationName }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Notes</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.Notes }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Customer Name</label>
              <label class="label-control col-md-6">{{ AgrmntObj?.CustName }}</label>
            </div>
          </div>
        </div>
      </div>

      <lib-ucSubsection [id]="'VerificationModuleId'" [title]="'Verification Module'" [panel]="'VerificationModule'">
      </lib-ucSubsection>
      <div class="form-body" id="VerificationModule">
        <div class="row">
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Verification No</label>
              <label class="label-control col-md-6">{{ VerfResultObj?.VerfResultNo }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Verification Date</label>
              <label class="label-control col-md-6">{{ VerificationDt | date:'medium' }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Verification By</label>
              <label class="label-control col-md-6">{{ VerfResultObj?.EmpName }}</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Transaction No</label>
              <label class="label-control col-md-6">{{ VerfResultObj?.TrxRefNo }}</label>
            </div>
            <div class="row" hidden>
              <label class="label-control col-md-6" translate>Final Score / Result Criteria</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.Score }}</label>
            </div>
          </div>
        </div>
      </div>

      <lib-ucSubsection [id]="'SubjectAvailabilityId'" [title]="'Subject Availability'" [panel]="'SubjectAvailability'">
      </lib-ucSubsection>
      <div class="form-body" id="SubjectAvailability">
        <div class="row">
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Subject</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.MrVerfSubjectRelationName }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Result Status</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.MrVerfResultHStatName }}</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Time</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.VerfDt | date:'mediumTime'}}</label>
            </div>
            <div class="row" hidden>
              <label class="label-control col-md-6" translate>Score</label>
              <label class="label-control col-md-6">{{ VerfResultHObj?.Score }}</label>
            </div>
          </div>
        </div>
        <table class="table table-responsive-md text-center table-hover">
          <thead>
            <tr class="table-header">
              <th><span translate class="thead-header">Phone No</span></th>
              <th><span translate class="thead-header">Status</span></th>
              <th><span translate class="thead-header">Notes</span></th>
              <th translate>View</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of VerfResultHList; let i = index">
              <td>{{item.Phn}}</td>
              <td>{{item.MrVerfResultHStatName}}</td>
              <td>{{item.Notes}}</td>
              <td>
                <a href="javascript:void(0);" (click)="GetDetailVerf(item.VerfResultHId)">View</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <br>

      <div *ngIf="IsVerfDetail">
        <div class="ucSearch-Button-Right">
          <span class="mr-1">
            <button type="button" class="backButton" (click)="BackVerfDetail()">
              <i class="ft-arrow-left"></i>&nbsp;<span translate>Back</span>
            </button>
          </span>
        </div>

        <lib-ucSubsection [id]="'DetailVerfId'" [title]="'Detail Verification'" [panel]="'DetailVerf'">
        </lib-ucSubsection>
        <div id="DetailVerf" class="row">
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Phone Type</label>
              <label class="label-control col-md-6">{{ VerfResultHObjDetail?.PhnType }}</label>
            </div>
            <div class="row">
              <label class="label-control col-md-6" translate>Status</label>
              <label class="label-control col-md-6">{{ VerfResultHObjDetail?.MrVerfResultHStatName }}</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="row">
              <label class="label-control col-md-6" translate>Phone Number</label>
              <label class="label-control col-md-6">{{ VerfResultHObjDetail?.Phn }}</label>
            </div>
          </div>
        </div>
      </div>
      <br>
      <!-- Question Answer  -->
      <div *ngIf="IsVerfDetail">
        <form>
          <div class="form-body" *ngFor="let QuestionGrpList of VerfResultDListObj; let i = index">
            <h4 class="form-section card-title" translate>
              <i class="ft-file-text"></i>{{QuestionGrpList.VerfQuestionGrpName}}
            </h4>
            <div class="form-group row" *ngFor="let QRList of QuestionGrpList.VerResultList; let j = index">
              <label class="col-md-3" translate>{{QRList.VerfQuestionText}} </label>
              <label class="col-md-5" translate>{{QRList.Answer}} </label>
              <label class="col-md-4" translate>{{QRList.Notes}} </label>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>