<div class="row text-left">
  <div class="col-md-12">
    <div class="card">
      <div class="card-body">

        <div class="card-header header-title" style="margin-bottom: 10px;">
          <div class="row">
            <div class="col-md-8">
              <h4 class="card-title" id="horz-layout-colored-controls" translate>
                Application View
              </h4>
            </div>
          </div>
        </div>

        <div class="px-3">
          <app-app-main-info-x [AppId]="AppId" #viewAppMainInfo></app-app-main-info-x>
          <mat-tab-group (selectedTabChange)="tabChangeEvent($event)">
            <mat-tab *ngIf="IsCustomer" label="Customer">
              <ng-template matTabContent>
                <app-view-app-cust-data-personal-x [appId]="AppId" *ngIf="CustType=='PERSONAL'">
                </app-view-app-cust-data-personal-x>
                <app-view-app-cust-data-company-x [appId]="AppId" [BizTemplateCode]="bizTemplateCode"
                                                  *ngIf="CustType=='COMPANY'"></app-view-app-cust-data-company-x>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsCustomerOpl" label="Customer">
              <ng-template matTabContent>
                <app-app-cust-data-personal-opl [appId]="AppId" *ngIf="CustType=='PERSONAL'">
                </app-app-cust-data-personal-opl>
                <app-app-cust-data-company-opl [appId]="AppId" *ngIf="CustType=='COMPANY'">
                </app-app-cust-data-company-opl>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsGuarantor" label="Guarantor">
              <ng-template matTabContent>
                <app-guarantor [AppId]="AppId"></app-guarantor>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsReferantor" label="Referantor">
              <ng-template matTabContent>
                <!-- <app-tab-referantor [appId]="AppId"></app-tab-referantor> -->
                <app-tab-referantor-multi [AppId]="AppId" ></app-tab-referantor-multi>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsApplication" label="Application">
              <ng-template matTabContent>
                <app-tab-application-x [BizTemplateCode]="bizTemplateCode" [appId]="AppId"></app-tab-application-x>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf=IsInvoice label="Invoice">
              <ng-template matTabContent>
                <app-invoice-view [AppId]="AppId"></app-invoice-view>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsAsset" label="Asset">
              <ng-template matTabContent>
                <view-asset-data-x [BizTemplateCode]="bizTemplateCode" [appId]="AppId"></view-asset-data-x>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsAssetExpense" label="Asset Expense">
              <ng-template matTabContent>
                <app-view-asset-expense [AppId]="AppId"></app-view-asset-expense>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsMultiAsset">
              <ng-template mat-tab-label>{{ bizTemplateCode == 'CF4W' ? 'Asset' : 'Asset & Collateral Data' }}</ng-template>
              <ng-template matTabContent>
                <view-multiasset-data [AppId]="AppId" [BizTemplateCode]="bizTemplateCode"></view-multiasset-data>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsCollateral" label="Collateral Data">
              <ng-template matTabContent>
                <app-view-collateral-data [appId]="AppId"></app-view-collateral-data>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsMultiCollateral" label="Collateral Data">
              <ng-template matTabContent>
                <app-view-collateral-multi-asset [appId]="AppId"></app-view-collateral-multi-asset>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsInsurance" label="Insurance">
              <ng-template matTabContent>
                <view-insurance [AppId]="AppId"></view-insurance>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsMultiInsurance" label="Insurance">
              <ng-template matTabContent>
                <app-app-insurance [BizTemplateCode]="bizTemplateCode" [AppId]="AppId"></app-app-insurance>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsLifeInsurance" label="Life Insurance">
              <ng-template matTabContent>
                <app-life-insurance [AppId]="AppId"></app-life-insurance>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsFinancial" label="Financial">
              <ng-template matTabContent>
                <view-financial-x [AppId]="AppId" [BizTemplateCode]="bizTemplateCode"></view-financial-x>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsTC" label="TC">
              <ng-template matTabContent>
                <app-app-tc [BizTemplateCode]="bizTemplateCode" [AppId]="AppId"></app-app-tc>
              </ng-template>
            </mat-tab>

            <mat-tab label="Document">
              <ng-template matTabContent>
                <app-dms-iframe *ngIf="isDmsReady" [dmsObj]="dmsObj"></app-dms-iframe>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsCommission" label="Commission">
              <ng-template matTabContent>
                <app-tab-commission-x [appId]="AppId"></app-tab-commission-x>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsReservedFund" label="Reserved Fund">
              <ng-template matTabContent>
                <view-reserved-fund [appId]="AppId"></view-reserved-fund>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsPhoneVerification" label="Phone Verification">
              <ng-template matTabContent>
                <view-phone-verif [appId]="AppId"></view-phone-verif>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsDeviation" label="Deviation">
              <ng-template matTabContent>
                <app-view-deviation [AppId]="AppId"></app-view-deviation>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsAnalysisResult" label="Analysis Result">
              <ng-template matTabContent>
                <app-tab-analysis-result [BizTemplateCode]="bizTemplateCode" [appId]="AppId"></app-tab-analysis-result>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsApprovalHist" label="Approval History">
              <ng-template matTabContent>
                <app-approval-hist-x [BizTemplateCode]="bizTemplateCode" [AppNo]="AppNo" [AppId]="AppId">
                </app-approval-hist-x>
              </ng-template>
            </mat-tab>
            <mat-tab label="Highlight Comment">
              <ng-template matTabContent>
                <app-view-highlight-comment [appId]="AppId" [isInput]="false"></app-view-highlight-comment>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsPefindoResult" label="Pefindo Result">
              <ng-template matTabContent>
              </ng-template>
            </mat-tab>

            <mat-tab *ngIf="IsSurveyResult" label="Survey Result">
              <ng-template matTabContent>
                <app-view-survey [AppNo]="AppNo"></app-view-survey>
              </ng-template>
            </mat-tab>

            <mat-tab label="Survey Task Result">
              <ng-template matTabContent>
                <app-view-srvy-task-x [AppId]="AppId"></app-view-srvy-task-x>
              </ng-template>
            </mat-tab>

            <mat-tab label="Credit Process Flow">
              <ng-template matTabContent>
                <app-view-credit-process-flow [AppNo]="AppNo" [BizTemplateCode]="bizTemplateCode"></app-view-credit-process-flow>
              </ng-template>
            </mat-tab>
          </mat-tab-group>
        </div>

      </div>
    </div>
  </div>
</div>
